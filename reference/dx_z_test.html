<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Conducts a two-sided Z-test (using prop.test for two proportions) to assess whether the success rates (proportions)
of two groups are different from each other based on a specified metric. It can compare accuracy,
PPV, NPV, FNR, FPR, FDR, sensitivity, or specificity between two dx objects."><title>Z-test for Comparing Two Proportions — dx_z_test • diagnosticSummary</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Z-test for Comparing Two Proportions — dx_z_test"><meta property="og:description" content="Conducts a two-sided Z-test (using prop.test for two proportions) to assess whether the success rates (proportions)
of two groups are different from each other based on a specified metric. It can compare accuracy,
PPV, NPV, FNR, FPR, FDR, sensitivity, or specificity between two dx objects."><meta property="og:image" content="https://overdodactyl.github.io/diagnosticSummary/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">diagnosticSummary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2.00</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/overdodactyl/diagnosticSummary/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Z-test for Comparing Two Proportions</h1>
      <small class="dont-index">Source: <a href="https://github.com/overdodactyl/diagnosticSummary/blob/HEAD/R/dx_tests.R" class="external-link"><code>R/dx_tests.R</code></a></small>
      <div class="d-none name"><code>dx_z_test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Conducts a two-sided Z-test (using prop.test for two proportions) to assess whether the success rates (proportions)
of two groups are different from each other based on a specified metric. It can compare accuracy,
PPV, NPV, FNR, FPR, FDR, sensitivity, or specificity between two dx objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dx_z_test</span><span class="op">(</span></span>
<span>  <span class="va">dx1</span>,</span>
<span>  <span class="va">dx2</span>,</span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"accuracy"</span>, <span class="st">"ppv"</span>, <span class="st">"npv"</span>, <span class="st">"fnr"</span>, <span class="st">"fpr"</span>, <span class="st">"fdr"</span>, <span class="st">"sensitivity"</span>,</span>
<span>    <span class="st">"specificity"</span><span class="op">)</span>,</span>
<span>  detail <span class="op">=</span> <span class="st">"full"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dx1</dt>
<dd><p>A `dx` object for the first group.</p></dd>


<dt>dx2</dt>
<dd><p>A `dx` object for the second group.</p></dd>


<dt>metric</dt>
<dd><p>A character string specifying the metric to compare between the two groups.
Options include "accuracy", "ppv", "npv", "fnr", "fpr", "fdr", "sensitivity", "specificity".</p></dd>


<dt>detail</dt>
<dd><p>Character specifying the level of detail in the output:
"simple" for raw estimate (p-value only), "full" for detailed estimate including
confidence intervals and test statistic.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Depending on the `detail` parameter, returns the p-value of the test or a
        more detailed list including the test statistic, confidence interval, and p-value.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function uses the prop.test function to perform the hypothesis test,
assuming the null hypothesis that the two proportions based on the specified metric are the same.
A low p-value indicates a significant difference in the proportions, suggesting that the success rates
of the two groups are statistically significantly different. The function automatically adjusts
for continuity and provides confidence intervals for the difference in proportions.</p>
<p>The Z-test for two proportions is appropriate when comparing the success rates (proportions) of two independent samples.
Here are some considerations for using this test:</p><ul><li><p>Independence: The samples should be independent. This test is not appropriate for paired or matched data.</p></li>
<li><p>Sample Size**: Both groups should have a sufficiently large number of trials. As a rule of thumb, the test
   assumes that the number of successes and failures in each group should be at least 5. However, for more accurate
   results, especially in cases with extreme proportions (close to 0 or 1), larger sample sizes may be necessary.</p></li>
<li><p>Binary Outcome: This test is specific to binary outcomes (success/failure, presence/absence, etc.) represented
   as proportions. It's not suitable for continuous data or counts that haven't been converted to proportions.</p></li>
<li><p>Normal Approximation: The Z-test is based on the normal approximation of the distribution of the sample proportion.
   This approximation is more accurate when the sample size is large and the proportion is not extremely close to 0 or 1.</p></li>
</ul><p>It's also important to note that while `prop.test` adjusts for continuity, this adjustment may not be sufficient for very
small sample sizes or very unbalanced designs. Always consider the context and assumptions of your data when interpreting
the results of the test.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dx_glm</span> <span class="op">&lt;-</span> <span class="fu"><a href="dx.html">dx</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dx_heart_failure</span>, true_varname <span class="op">=</span> <span class="st">"truth"</span>, pred_varname <span class="op">=</span> <span class="st">"predicted"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metric_func(cm, ...):</span> object 'tp' not found</span>
<span class="r-in"><span><span class="va">dx_rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="dx.html">dx</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dx_heart_failure</span>, true_varname <span class="op">=</span> <span class="st">"truth"</span>, pred_varname <span class="op">=</span> <span class="st">"predicted_rf"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metric_func(cm, ...):</span> object 'tp' not found</span>
<span class="r-in"><span><span class="fu">dx_z_test</span><span class="op">(</span><span class="va">dx_glm</span>, <span class="va">dx_rf</span>, metric <span class="op">=</span> <span class="st">"accuracy"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'dx_glm' not found</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pat Johnson, Rickey Carter.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

